"use strict";(self.webpackChunkcolegio_web_angular=self.webpackChunkcolegio_web_angular||[]).push([[383],{3383:(D,d,r)=>{r.r(d),r.d(d,{DocenteAlumnosPage:()=>v});var u=r(2200),i=r(9417),e=r(3664),m=r(8034),g=r(8774);function h(t,s){1&t&&(e.j41(0,"div",7),e.EFF(1,"Cargando alumnos\u2026"),e.k0s())}function _(t,s){1&t&&(e.j41(0,"div",8),e.EFF(1,"No se pudieron cargar los alumnos."),e.k0s())}function f(t,s){if(1&t&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&t){const o=s.$implicit,n=s.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(o.cedula),e.R7$(2),e.JRh(o.apellidos),e.R7$(2),e.JRh(o.nombres),e.R7$(2),e.JRh(o.fecha_nacimiento||"\u2014"),e.R7$(2),e.JRh(o.email||"\u2014")}}function F(t,s){1&t&&(e.j41(0,"div",13),e.EFF(1," No hay alumnos registrados para este docente. "),e.k0s())}function E(t,s){if(1&t&&(e.j41(0,"div")(1,"div",9)(2,"table",10)(3,"thead")(4,"tr")(5,"th"),e.EFF(6,"#"),e.k0s(),e.j41(7,"th"),e.EFF(8,"C\xe9dula"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Apellidos"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Nombres"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Fecha nac."),e.k0s(),e.j41(15,"th"),e.EFF(16,"Email"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,f,13,6,"tr",11),e.k0s()()(),e.DNE(19,F,2,0,"div",12),e.k0s()),2&t){const o=e.XpG();e.R7$(18),e.Y8G("ngForOf",o.alumnosFiltrados()),e.R7$(),e.Y8G("ngIf",!(null!=o.alumnos&&o.alumnos.length))}}let v=(()=>{var t;class s{constructor(n,a){this.alumnosSrv=n,this.auth=a,this.alumnos=[],this.cargando=!1,this.error=!1,this.filtro=""}ngOnInit(){const n=this.auth.currentUser;let a=0;"mariacabrera"===n?.username?.toLowerCase()||console.warn("Usuario distinto a mariacabrera; ajusta el idDocente aqu\xed."),a=1,this.cargar(1)}cargar(n){this.cargando=!0,this.error=!1,this.alumnosSrv.listarPorDocente(n).subscribe({next:a=>{this.alumnos=a||[],this.cargando=!1},error:()=>{this.error=!0,this.cargando=!1}})}alumnosFiltrados(){const n=this.filtro.trim().toLowerCase();return n?this.alumnos.filter(a=>(a.cedula||"").toLowerCase().includes(n)||(a.nombres||"").toLowerCase().includes(n)||(a.apellidos||"").toLowerCase().includes(n)||(a.email||"").toLowerCase().includes(n)):this.alumnos}static#e=t=()=>(this.\u0275fac=function(a){return new(a||s)(e.rXU(m.p),e.rXU(g.u))},this.\u0275cmp=e.VBU({type:s,selectors:[["app-docente-alumnos"]],decls:8,vars:4,consts:[[1,"p-4","border","rounded-3","shadow-sm"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"h4","mb-0"],["placeholder","Buscar\u2026",1,"form-control",2,"max-width","260px",3,"ngModelChange","ngModel"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table-responsive"],[1,"table","table-sm","align-middle"],[4,"ngFor","ngForOf"],["class","alert alert-warning mb-0",4,"ngIf"],[1,"alert","alert-warning","mb-0"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Mis alumnos"),e.k0s(),e.j41(4,"input",3),e.mxI("ngModelChange",function(c){return e.DH7(l.filtro,c)||(l.filtro=c),c}),e.k0s()(),e.DNE(5,h,2,0,"div",4)(6,_,2,0,"div",5)(7,E,20,2,"div",6),e.k0s()),2&a&&(e.R7$(4),e.R50("ngModel",l.filtro),e.R7$(),e.Y8G("ngIf",l.cargando),e.R7$(),e.Y8G("ngIf",l.error),e.R7$(),e.Y8G("ngIf",!l.cargando&&!l.error))},dependencies:[u.MD,u.Sq,u.bT,i.YN,i.me,i.BC,i.vS],encapsulation:2}))}return t(),s})()}}]);