"use strict";(self.webpackChunkcolegio_web_angular=self.webpackChunkcolegio_web_angular||[]).push([[163],{163:(p,c,a)=>{a.r(c),a.d(c,{AlumnoNotasPage:()=>F});var u=a(2200),g=a(2615),t=a(3664),d=a(8774),m=a(7277);function _(s,o){if(1&s&&(t.j41(0,"tr")(1,"td",14),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s()()),2&s){const n=o.$implicit,r=o.index,e=t.XpG(2);t.R7$(2),t.JRh(n),t.R7$(2),t.SpI(" ",null!=(null==e.registro?null:e.registro.notas[r])?null==e.registro?null:e.registro.notas[r]:"\u2014"," ")}}function f(s,o){if(1&s&&(t.qex(0),t.j41(1,"p",6),t.EFF(2," Alumno: "),t.j41(3,"strong"),t.EFF(4),t.k0s()(),t.j41(5,"table",7)(6,"thead",8)(7,"tr")(8,"th"),t.EFF(9,"Tarea"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Nota"),t.k0s()()(),t.j41(12,"tbody"),t.DNE(13,_,5,2,"tr",9),t.j41(14,"tr",10)(15,"td",11),t.EFF(16,"Promedio"),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s()(),t.j41(19,"tr",10)(20,"td",11),t.EFF(21,"Estado"),t.k0s(),t.j41(22,"td",12),t.EFF(23),t.k0s()()()(),t.j41(24,"p",13),t.EFF(25," * Estos datos se leen del registro de calificaciones del sistema, actualizado por el docente. "),t.k0s(),t.bVm()),2&s){const n=t.XpG();t.R7$(4),t.JRh(null==n.registro?null:n.registro.nombre),t.R7$(9),t.Y8G("ngForOf",null==n.registro?null:n.registro.tareas),t.R7$(5),t.JRh(null!==(null==n.registro?null:n.registro.promedio)?null==n.registro?null:n.registro.promedio:"\u2014"),t.R7$(4),t.Y8G("ngClass","Aprueba"===(null==n.registro?null:n.registro.estado)?"text-success fw-bold":"Reprueba"===(null==n.registro?null:n.registro.estado)?"text-danger fw-bold":""),t.R7$(),t.SpI(" ",(null==n.registro?null:n.registro.estado)||"\u2014"," ")}}function E(s,o){1&s&&(t.j41(0,"div",15),t.EFF(1," No se encontraron calificaciones para este alumno. "),t.k0s())}let F=(()=>{var s;class o{constructor(r,e){this.auth=r,this.router=e,this.registro=null,this.sinDatos=!1}ngOnInit(){const r=this.getAlumnoIdActual();if(!r)return console.warn("AlumnoNotas: no se pudo determinar el id_alumno del usuario"),void(this.sinDatos=!0);const e=localStorage.getItem("colegio.calificaciones");if(!e)return void(this.sinDatos=!0);let i;try{i=JSON.parse(e)}catch{return console.error("AlumnoNotas: error parseando localStorage"),void(this.sinDatos=!0)}const l=i[String(r)];l?(this.registro=l,this.sinDatos=!1):this.sinDatos=!0}logout(){this.auth.logout(),this.router.navigate(["/login"])}getAlumnoIdActual(){const e=(this.auth.currentUser?.username||"").toLowerCase().replace(/\s+/g,"");return"pepecabrera"===e?21:"sofiagarcia"===e?22:"mateolopez"===e?23:"valentinaperez"===e?24:"sebastiantorres"===e?25:"camilarojas"===e?26:"janettarmijos"===e?28:null}static#t=s=()=>(this.\u0275fac=function(e){return new(e||o)(t.rXU(d.u),t.rXU(m.Ix))},this.\u0275cmp=t.VBU({type:o,selectors:[["app-alumno-notas"]],decls:9,vars:2,consts:[["sinNotas",""],[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],[1,"mb-3"],[1,"table","table-bordered","text-center"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"table-light"],[1,"text-end","fw-bold"],[3,"ngClass"],[1,"text-muted","small","mt-2"],[1,"text-start"],[1,"alert","alert-warning"]],template:function(e,i){if(1&e){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3,"Mis calificaciones"),t.k0s(),t.j41(4,"button",4),t.bIt("click",function(){return g.eBV(l),g.Njj(i.logout())}),t.EFF(5," Cerrar sesi\xf3n "),t.k0s()(),t.DNE(6,f,26,5,"ng-container",5)(7,E,2,0,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const l=t.sdS(8);t.R7$(6),t.Y8G("ngIf",!i.sinDatos)("ngIfElse",l)}},dependencies:[u.MD,u.YU,u.Sq,u.bT],encapsulation:2}))}return s(),o})()}}]);