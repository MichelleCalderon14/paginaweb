"use strict";(self.webpackChunkcolegio_web_angular=self.webpackChunkcolegio_web_angular||[]).push([[621],{9621:(h,s,a)=>{a.r(s),a.d(s,{DocenteCrearPage:()=>f});var d=a(2200),l=a(9417),e=a(3664),c=a(8034),g=a(8774),_=a(7277);let f=(()=>{var u;class m{constructor(t,r,o){this.alumnosSrv=t,this.auth=r,this.router=o,this.form={cedula:"",nombres:"",apellidos:"",fecha_nacimiento:"",email:""}}getDocenteId(){return"mariacabrera"===(this.auth.currentUser?.username?.toLowerCase()||"")||console.warn("getDocenteId: usuario distinto a mariacabrera, usando id_docente=1 por ahora"),1}guardar(){if(!this.form.cedula?.trim()||!this.form.nombres?.trim()||!this.form.apellidos?.trim())return void alert("C\xe9dula, nombres y apellidos son obligatorios");const t=this.getDocenteId(),r={cedula:this.form.cedula.trim(),nombres:this.form.nombres.trim(),apellidos:this.form.apellidos.trim(),fecha_nacimiento:this.form.fecha_nacimiento||void 0,email:this.form.email?.trim()||void 0};this.alumnosSrv.crearParaDocente(t,r).subscribe({next:o=>{console.log("Alumno creado",o),alert("Alumno creado correctamente \u2714"),this.router.navigate(["/docente/alumnos"])},error:o=>{console.error("[DocenteCrearPage] error al crear alumno",o),alert("\u274c No se pudo crear el alumno. Revisa que el backend est\xe9 levantado.")}})}volver(){this.router.navigate(["/panel-docente"])}static#e=u=()=>(this.\u0275fac=function(r){return new(r||m)(e.rXU(c.p),e.rXU(g.u),e.rXU(_.Ix))},this.\u0275cmp=e.VBU({type:m,selectors:[["app-docente-crear"]],decls:31,vars:5,consts:[[1,"p-4","border","rounded-3","shadow-sm"],[1,"h4","mb-3"],[3,"ngSubmit"],[1,"mb-2"],[1,"form-label"],["name","cedula","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2","row"],[1,"col-md-6"],["name","nombres","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","apellidos","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","fecha_nacimiento",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-3"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Crear alumno"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return o.guardar()}),e.j41(4,"div",3)(5,"label",4),e.EFF(6,"C\xe9dula*"),e.k0s(),e.j41(7,"input",5),e.mxI("ngModelChange",function(n){return e.DH7(o.form.cedula,n)||(o.form.cedula=n),n}),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"label",4),e.EFF(11,"Nombres*"),e.k0s(),e.j41(12,"input",8),e.mxI("ngModelChange",function(n){return e.DH7(o.form.nombres,n)||(o.form.nombres=n),n}),e.k0s()(),e.j41(13,"div",7)(14,"label",4),e.EFF(15,"Apellidos*"),e.k0s(),e.j41(16,"input",9),e.mxI("ngModelChange",function(n){return e.DH7(o.form.apellidos,n)||(o.form.apellidos=n),n}),e.k0s()()(),e.j41(17,"div",6)(18,"div",7)(19,"label",4),e.EFF(20,"Fecha de nacimiento"),e.k0s(),e.j41(21,"input",10),e.mxI("ngModelChange",function(n){return e.DH7(o.form.fecha_nacimiento,n)||(o.form.fecha_nacimiento=n),n}),e.k0s()(),e.j41(22,"div",7)(23,"label",4),e.EFF(24,"Email"),e.k0s(),e.j41(25,"input",11),e.mxI("ngModelChange",function(n){return e.DH7(o.form.email,n)||(o.form.email=n),n}),e.k0s()()(),e.j41(26,"div",12)(27,"button",13),e.EFF(28,"Guardar alumno"),e.k0s(),e.j41(29,"button",14),e.bIt("click",function(){return o.volver()}),e.EFF(30,"Volver"),e.k0s()()()()),2&r&&(e.R7$(7),e.R50("ngModel",o.form.cedula),e.R7$(5),e.R50("ngModel",o.form.nombres),e.R7$(4),e.R50("ngModel",o.form.apellidos),e.R7$(5),e.R50("ngModel",o.form.fecha_nacimiento),e.R7$(4),e.R50("ngModel",o.form.email))},dependencies:[d.MD,l.YN,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV],encapsulation:2}))}return u(),m})()}}]);